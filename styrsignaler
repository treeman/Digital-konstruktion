
Styrsignaler:

uPC
    000     +1
    001     op addr
    010     A a-mod addr
    011     B a-mod addr
    100     jmp
    101     jmp on Z
    111     0

PC
    00      PC (nothing)
    01      load from buss
    10      +1

IR
    0       hold
    1       load from OP (or buss)

uCount
    00      uCounter + 1
    01      Z = uCounter >= limit
    11      uCounter = 0

mem1
    00      nothing
    01      read
    10      write

mem2
    00      nothing
    01      read
    10      write

mem3
    00      nothing
    01      read
    10      write

buss_in
    000     PC
    001     OP
    010     AR 1
    011     FIFO
    100     I/O

ALU
    000     nothing (hold AR and don't update Z)
    001     load
    010     add
    011     sub
    100     +1
    101     -1

    (ALU module only have 2 last bits)

ALU1 src
    00      M1
    01      buss
    10      M2

ALU2 src
    0       M1
    1       M2

OP
    0       hold
    1       buss

M1
    00      hold
    01      buss
    10      AR 1
    11      AR 2

M2
    00      hold
    01      buss
    10      AR 1
    11      AR 2

FIXME!
Kontrollera signalerna under
FIXME!

dessa l채ser fr책n buss
    PC
    M1
    M2
    OP
    ALU B (-> PC)
    IR (kan nog l채sa direkt fr책n OP)
    FIFO

ADR
    3 bit select from
        M1
        M2
        AR A
        AR B
        PC
        buss
        nothing

FIFO
    2bit
        read
        write
        nothing

    3 bit P1 function
        incr read
        zero read
        incr write
        zero write
        nothing

    3 bit P2 function
        incr read
        zero read
        incr write
        zero write
        nothing

    1bit
        change player
        nothing

Totalt
    2 rw OP mem
    2 rw op1 mem
    2 rw op1 mem
    4 buss in
    4 buss out
    3 uPC
    2 uCount
    1 PC
    3 ADR
    3 ALU (both)
    2 ALU A input
    2 ALU B input
    7 FIFO
    3 M1
    3 M2

    43 styrsignaler

    + 8 bit hoppaddress

    51 bit

